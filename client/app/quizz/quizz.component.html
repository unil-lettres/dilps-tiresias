<div class="nat-expand nat-vertical">
    <div class="title nat-padding nat-gap nat-horizontal nat-left">
        <div class="mat-headline-5">Lecture d'oeuvres</div>
        <div class="mat-body-2">Image {{ currentIndex + 1 }} / {{ cards.length }}</div>

        <div class="nat-padding nat-horizontal nat-align nat-gap nat-expand">
            <mat-form-field class="nat-expand">
                <mat-label>Saisissez votre réponse</mat-label>
                <input matInput [formControl]="formCtrl" />
            </mat-form-field>
            <button color="primary" mat-raised-button (click)="goToNext()">Suivant</button>
        </div>
    </div>

    <div class="nat-expand nat-horizontal">
        @if (imageSrc) {
            <div class="image nat-expand" [ngStyle]="{'background-image': 'url(' + imageSrc + ')'}"></div>
        }
        @if (card) {
            <div class="card nat-vertical nat-gap-10">
                <mat-expansion-panel class="instructions">
                    <mat-expansion-panel-header>
                        <mat-panel-title> Instructions</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="nat-vertical nat-gap-10">
                        <p>Utilisez le champ de saisie situé en haut de la page pour commencer !</p>
                        <p>
                            Les différents termes peuvent être saisis sans ordre précis et sans tenir compte de la
                            présence de majuscules ou de minuscules.
                        </p>
                        <p>
                            Les dates s'écrivent en chiffres. Pour indiquer un siècle, rentrez n'importe quelle année de
                            ce dernier (exemple: 1986 pour le XXe siècle).
                        </p>
                    </div>
                </mat-expansion-panel>
                @if (card.name) {
                    <div class="attribute" [ngClass]="{valid: attributes.name}">
                        <div class="attributeName">Titre</div>
                        <div class="attributeAnswer" [matTooltip]="card.plainName">Voir réponse</div>
                    </div>
                }
                @if (card.artists.length) {
                    <div class="attribute" [ngClass]="{valid: attributes.artists}">
                        <div class="attributeName">Artistes</div>
                        <div class="attributeAnswer" [matTooltip]="getArtistsNames(card.artists)">Voir réponse</div>
                    </div>
                }
                @if (card.dating) {
                    <div class="attribute" [ngClass]="{valid: attributes.dating}">
                        <div class="attributeName">Datation</div>
                        <div class="attributeAnswer" [matTooltip]="card.dating">Voir réponse</div>
                    </div>
                }
                @if (card.institution) {
                    <div class="attribute" [ngClass]="{valid: attributes.institution}">
                        <div class="attributeName">Lieu</div>
                        <div class="attributeAnswer" [matTooltip]="card.institution.name">Voir réponse</div>
                    </div>
                }
            </div>
        }
    </div>
</div>
